Index: .idea/deploymentTargetSelector.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"deploymentTargetSelector\">\r\n    <selectionStates>\r\n      <SelectionState runConfigName=\"app\">\r\n        <option name=\"selectionMode\" value=\"DROPDOWN\" />\r\n        <DropdownSelection timestamp=\"2025-10-27T19:47:30.343603400Z\">\r\n          <Target type=\"DEFAULT_BOOT\">\r\n            <handle>\r\n              <DeviceId pluginId=\"LocalEmulator\" identifier=\"path=C:\\Users\\monic\\.android\\avd\\Pixel_6.avd\" />\r\n            </handle>\r\n          </Target>\r\n        </DropdownSelection>\r\n        <DialogSelection />\r\n      </SelectionState>\r\n    </selectionStates>\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/deploymentTargetSelector.xml b/.idea/deploymentTargetSelector.xml
--- a/.idea/deploymentTargetSelector.xml	(revision 709e7ba1e65bbda563328bfaba3ff45d785b19ed)
+++ b/.idea/deploymentTargetSelector.xml	(date 1762446417442)
@@ -4,10 +4,10 @@
     <selectionStates>
       <SelectionState runConfigName="app">
         <option name="selectionMode" value="DROPDOWN" />
-        <DropdownSelection timestamp="2025-10-27T19:47:30.343603400Z">
+        <DropdownSelection timestamp="2025-10-31T13:18:10.796113800Z">
           <Target type="DEFAULT_BOOT">
             <handle>
-              <DeviceId pluginId="LocalEmulator" identifier="path=C:\Users\monic\.android\avd\Pixel_6.avd" />
+              <DeviceId pluginId="LocalEmulator" identifier="path=C:\Users\danie\.android\avd\Pixel.avd" />
             </handle>
           </Target>
         </DropdownSelection>
Index: app/src/main/java/es/fdi/ucm/pad/notnotion/data/firebase/FirebaseFirestoreManager.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/es/fdi/ucm/pad/notnotion/data/firebase/FirebaseFirestoreManager.java b/app/src/main/java/es/fdi/ucm/pad/notnotion/data/firebase/FirebaseFirestoreManager.java
new file mode 100644
--- /dev/null	(date 1762446417479)
+++ b/app/src/main/java/es/fdi/ucm/pad/notnotion/data/firebase/FirebaseFirestoreManager.java	(date 1762446417479)
@@ -0,0 +1,112 @@
+package es.fdi.ucm.pad.notnotion.data.firebase;
+
+import android.util.Log;
+
+import androidx.annotation.NonNull;
+
+import com.google.android.gms.tasks.OnSuccessListener;
+import com.google.firebase.Timestamp;
+import com.google.firebase.auth.FirebaseAuth;
+import com.google.firebase.auth.FirebaseUser;
+import com.google.firebase.firestore.DocumentReference;
+import com.google.firebase.firestore.DocumentSnapshot;
+import com.google.firebase.firestore.FirebaseFirestore;
+
+import java.util.HashMap;
+import java.util.Map;
+
+import es.fdi.ucm.pad.notnotion.data.model.User;
+
+public class FirebaseFirestoreManager {
+
+    private static final String TAG = "FirestoreManager";
+    private final FirebaseFirestore db;
+    private final FirebaseAuth auth;
+
+    public FirebaseFirestoreManager() {
+        db = FirebaseFirestore.getInstance();
+        auth = FirebaseAuth.getInstance();
+    }
+
+    private String getUserId() {
+        FirebaseUser user = auth.getCurrentUser();
+        return user != null ? user.getUid() : null;
+    }
+
+    /**
+     * Guarda el usuario en Firestore. Si ya existe, lo actualiza.
+     */
+    public void saveOrUpdateUser(@NonNull FirebaseUser firebaseUser) {
+        String uid = firebaseUser.getUid();
+
+        // Crear o actualizar usuario
+        DocumentReference userRef = db.collection("users").document(uid);
+
+        Map<String, Object> data = new HashMap<>();
+        data.put("email", firebaseUser.getEmail());
+        data.put("username", firebaseUser.getDisplayName() != null ? firebaseUser.getDisplayName() : "Sin nombre");
+        data.put("lastLogin", Timestamp.now());
+
+        // Si es la primera vez, a침adimos createdAt
+        userRef.get().addOnSuccessListener(document -> {
+            if (!document.exists()) {
+                data.put("createdAt", Timestamp.now());
+                Map<String, Object> preferences = new HashMap<>();
+                preferences.put("language", "es");
+                preferences.put("theme", "light");
+                data.put("preferences", preferences);
+            }
+
+            userRef.set(data)
+                    .addOnSuccessListener(aVoid ->
+                            Log.d(TAG, "Usuario " + uid + " guardado/actualizado correctamente"))
+                    .addOnFailureListener(e ->
+                            Log.e(TAG, "Error al guardar usuario", e));
+        });
+    }
+
+    /**
+     * Obtiene los datos del usuario autenticado
+     */
+    public void getCurrentUserData(OnSuccessListener<User> listener) {
+        String uid = getUserId();
+        if (uid == null) {
+            Log.e(TAG, "No hay usuario autenticado");
+            return;
+        }
+
+        db.collection("users").document(uid)
+                .get()
+                .addOnSuccessListener(snapshot -> {
+                    if (snapshot.exists()) {
+                        User user = snapshot.toObject(User.class);
+                        listener.onSuccess(user);
+                    } else {
+                        Log.w(TAG, "El documento del usuario no existe");
+                    }
+                })
+                .addOnFailureListener(e -> Log.e(TAG, "Error al obtener datos del usuario", e));
+    }
+
+    /**
+     * Actualiza las preferencias del usuario
+     */
+    public void updateUserPreferences(String language, String theme) {
+        String uid = getUserId();
+        if (uid == null) {
+            Log.e(TAG, "No hay usuario autenticado");
+            return;
+        }
+
+        Map<String, Object> prefs = new HashMap<>();
+        prefs.put("language", language);
+        prefs.put("theme", theme);
+
+        db.collection("users").document(uid)
+                .update("preferences", prefs)
+                .addOnSuccessListener(aVoid ->
+                        Log.d(TAG, "Preferencias actualizadas correctamente"))
+                .addOnFailureListener(e ->
+                        Log.e(TAG, "Error al actualizar preferencias", e));
+    }
+}
Index: app/src/main/java/es/fdi/ucm/pad/notnotion/data/model/User.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/es/fdi/ucm/pad/notnotion/data/model/User.java b/app/src/main/java/es/fdi/ucm/pad/notnotion/data/model/User.java
new file mode 100644
--- /dev/null	(date 1762446417492)
+++ b/app/src/main/java/es/fdi/ucm/pad/notnotion/data/model/User.java	(date 1762446417492)
@@ -0,0 +1,43 @@
+package es.fdi.ucm.pad.notnotion.data.model;
+
+import com.google.firebase.Timestamp;
+import java.util.HashMap;
+import java.util.Map;
+
+public class User {
+    private String email;
+    private String username;
+    private Timestamp createdAt;
+    private Timestamp lastLogin;
+    private Map<String, Object> preferences;
+
+    // 游댳 Constructor vac칤o necesario para Firebase
+    public User() {}
+
+    public User(String email, String username, Timestamp createdAt, Timestamp lastLogin, String language, String theme) {
+        this.email = email;
+        this.username = username;
+        this.createdAt = createdAt;
+        this.lastLogin = lastLogin;
+
+        this.preferences = new HashMap<>();
+        this.preferences.put("language", language);
+        this.preferences.put("theme", theme);
+    }
+
+    // 游댳 Getters y Setters
+    public String getEmail() { return email; }
+    public void setEmail(String email) { this.email = email; }
+
+    public String getUsername() { return username; }
+    public void setUsername(String username) { this.username = username; }
+
+    public Timestamp getCreatedAt() { return createdAt; }
+    public void setCreatedAt(Timestamp createdAt) { this.createdAt = createdAt; }
+
+    public Timestamp getLastLogin() { return lastLogin; }
+    public void setLastLogin(Timestamp lastLogin) { this.lastLogin = lastLogin; }
+
+    public Map<String, Object> getPreferences() { return preferences; }
+    public void setPreferences(Map<String, Object> preferences) { this.preferences = preferences; }
+}
Index: app/src/main/res/layout/profile_activity.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/profile_activity.xml b/app/src/main/res/layout/profile_activity.xml
new file mode 100644
--- /dev/null	(date 1762446417455)
+++ b/app/src/main/res/layout/profile_activity.xml	(date 1762446417455)
@@ -0,0 +1,61 @@
+<?xml version="1.0" encoding="utf-8"?>
+<androidx.constraintlayout.widget.ConstraintLayout
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:id="@+id/profile_root"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:padding="32dp"
+    tools:context=".ui.profile.ProfileActivity">
+
+    <!-- Guideline para 1/3 de alto -->
+    <androidx.constraintlayout.widget.Guideline
+        android:id="@+id/guideline"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:orientation="horizontal"
+        app:layout_constraintGuide_percent="0.33" />
+
+    <!-- Foto de perfil: ocupa el primer tercio -->
+    <ImageView
+        android:id="@+id/profile_image"
+        android:layout_width="0dp"
+        android:layout_height="0dp"
+        android:contentDescription="@string/profile_picture"
+        android:scaleType="centerCrop"
+        android:src="@drawable/ic_profile_placeholder"  <!-- pon tu recurso -->
+        android:background="@drawable/profile_image_bg"  <!-- opcional: borde/redondeo -->
+        app:layout_constraintTop_toTopOf="parent"
+        app:layout_constraintBottom_toTopOf="@id/guideline_top_third"
+        app:layout_constraintStart_toStartOf="parent"
+        app:layout_constraintEnd_toEndOf="parent" />
+
+    <!-- Lista de acciones (botones) -->
+    <androidx.recyclerview.widget.RecyclerView
+        android:id="@+id/rv_profile_actions"
+        android:layout_width="0dp"
+        android:layout_height="0dp"
+        android:clipToPadding="false"
+        android:paddingTop="16dp"
+        android:paddingBottom="16dp"
+        android:scrollbars="vertical"
+        app:layout_constraintTop_toBottomOf="@id/guideline"
+        app:layout_constraintBottom_toTopOf="@id/btn_back"
+        app:layout_constraintStart_toStartOf="parent"
+        app:layout_constraintEnd_toEndOf="parent"
+        tools:listitem="@layout/item_profile_action" />
+
+    <!-- Bot칩n volver (abajo-izquierda) -->
+    <ImageButton
+        android:id="@+id/btn_back"
+        android:layout_width="48dp"
+        android:layout_height="48dp"
+        android:background="?attr/selectableItemBackgroundBorderless"
+        android:contentDescription="@string/desc_return_button"
+        android:src="@drawable/ic_return"
+        app:tint="@color/brown"
+        app:layout_constraintStart_toStartOf="parent"
+        app:layout_constraintBottom_toBottomOf="parent"/>
+
+</androidx.constraintlayout.widget.ConstraintLayout>
\ No newline at end of file
Index: app/src/main/res/layout/item_profile_action.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/item_profile_action.xml b/app/src/main/res/layout/item_profile_action.xml
new file mode 100644
--- /dev/null	(date 1762446417467)
+++ b/app/src/main/res/layout/item_profile_action.xml	(date 1762446417467)
@@ -0,0 +1,16 @@
+<?xml version="1.0" encoding="utf-8"?>
+<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent">
+    <?xml version="1.0" encoding="utf-8"?>
+    <Button
+        xmlns:android="http://schemas.android.com/apk/res/android"
+        android:id="@+id/btn_action"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:layout_marginBottom="12dp"
+        style="@style/MyButton"
+        android:textAllCaps="false"
+        android:text="@string/editar_foto_perfil"
+        />
+</androidx.constraintlayout.widget.ConstraintLayout>
\ No newline at end of file
Index: app/src/main/res/values/strings.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><resources>\r\n    <string name=\"app_name\">Not&amp;notion</string>\r\n    <string name=\"logo_app\">logo_app</string>\r\n    <string name=\"btnPerfil\">btnPerfil\\n</string>\r\n    <string name=\"icono_folder\">icono_folder</string>\r\n\r\n    <!--> Descriptions <-->\r\n\r\n    <string name=\"desc_return_button\">Atras</string>\r\n    <string name=\"desc_calendar_button\">Calendario</string>\r\n    <string name=\"desc_notes_button\">Notas</string>\r\n    <string name=\"desc_add_button\">A침adir elemento</string>\r\n    <string name=\"new_user\"> o Registrarse</string>\r\n    <string name=\"password\">Contrase침a</string>\r\n    <string name=\"confirm_password\">Confirmar contrase침a</string>\r\n    <string name=\"log_in\">Iniciar Sesion</string>\r\n    <string name=\"or\">o</string>\r\n    <string name=\"user\">Usuario</string>\r\n    <string name=\"name\">Nombre</string>\r\n    <string name=\"email\">Correo</string>\r\n    <string name=\"create_account\">Crear cuenta</string>\r\n    <string name=\"already_have_an_account\">Ya tienes cuenta?</string>\r\n    <string name=\"select_language\">Seleccionar lenguaje</string>\r\n\r\n    <!---->\r\n    <string name=\"lng\">Idioma</string>\r\n    <string name=\"buscar\">Buscar</string>\r\n    <string name=\"route\">Principal -> PAD</string>\r\n    <string name=\"add_note\">A침adir nota</string>\r\n</resources>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/values/strings.xml b/app/src/main/res/values/strings.xml
--- a/app/src/main/res/values/strings.xml	(revision 709e7ba1e65bbda563328bfaba3ff45d785b19ed)
+++ b/app/src/main/res/values/strings.xml	(date 1762446417430)
@@ -5,7 +5,7 @@
     <string name="icono_folder">icono_folder</string>
 
     <!--> Descriptions <-->
-
+    <item name="profile_root" type="id">profile_root</item>
     <string name="desc_return_button">Atras</string>
     <string name="desc_calendar_button">Calendario</string>
     <string name="desc_notes_button">Notas</string>
@@ -27,4 +27,6 @@
     <string name="buscar">Buscar</string>
     <string name="route">Principal -> PAD</string>
     <string name="add_note">A침adir nota</string>
+    <string name="profile_picture">foto_perfil</string>
+    <string name="editar_foto_perfil">editar_foto_perfil</string>
 </resources>
\ No newline at end of file
